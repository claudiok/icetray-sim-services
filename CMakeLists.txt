#
# automatically generated by offline-mk
#
i3_project(sim-services
        PYTHON_DEST icecube/sim_services
	PYTHON_DIR python
)

# define the lists used to build the basic library
SET(LIB_${PROJECT_NAME}_SOURCEFILES
	private/sim-services/I3GeoShifter.cxx 
	private/sim-services/PropagatorServiceUtils.cxx 
	private/sim-services/I3SumGenerator.cxx 
	private/sim-services/I3MCTreeHybridSimulationSplitter.cxx
	private/sim-services/I3PropagatorServiceBase.cxx
	private/sim-services/time-generator/I3MCEventHeaderGenerator.cxx
	private/sim-services/time-generator/I3ModifyEventID.cxx
)
SET(LIB_${PROJECT_NAME}_TOOLS python boost )

i3_add_library(sim-services
	${LIB_${PROJECT_NAME}_SOURCEFILES}
	
	USE_TOOLS ${LIB_${PROJECT_NAME}_TOOLS} 

	USE_PROJECTS icetray
	phys-services 
	dataclasses 
	simclasses 
	cmc
)

# TODO: make the tests use PROPOSAL instead of MMC
IF (IS_DIRECTORY ${CMAKE_SOURCE_DIR}/c2j-icetray AND IS_DIRECTORY ${CMAKE_SOURCE_DIR}/mmc-icetray)
i3_test_executable(test 
	private/test/*.cxx
	USE_TOOLS boost python jni gsl
	USE_PROJECTS dataclasses phys-services sim-services trigger-sim dataio interfaces icetray
	c2j-icetray mmc-icetray
)
ENDIF (IS_DIRECTORY ${CMAKE_SOURCE_DIR}/c2j-icetray AND IS_DIRECTORY ${CMAKE_SOURCE_DIR}/mmc-icetray)

add_subdirectory(private/pybindings)

# disable "test2.py" for now to make the build bots happy.
i3_test_scripts(resources/tests/hist_test.py)
